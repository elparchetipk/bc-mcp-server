<svg viewBox="0 0 900 700" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="900" height="700" fill="#f8f9fa"/>
  
  <!-- Title -->
  <text x="450" y="40" text-anchor="middle" font-size="24" font-weight="bold" fill="#2c3e50">Arquitectura de Contexto Inteligente</text>
  
  <!-- Context Layers -->
  <text x="450" y="80" text-anchor="middle" font-size="18" font-weight="bold" fill="#34495e">Capas de Contexto</text>
  
  <!-- Layer 1: Environment Context -->
  <rect x="50" y="100" width="800" height="80" fill="#e8f5e8" stroke="#4caf50" stroke-width="2" rx="10"/>
  <text x="70" y="125" font-size="16" font-weight="bold" fill="#2e7d32">1. Contexto de Entorno</text>
  <text x="70" y="145" font-size="12" fill="#333">• Sistema operativo y configuración • Variables de entorno • Directorio de trabajo</text>
  <text x="70" y="160" font-size="12" fill="#333">• Herramientas disponibles • Conexiones de red • Estado del sistema</text>
  
  <!-- Layer 2: Project Context -->
  <rect x="50" y="190" width="800" height="80" fill="#e3f2fd" stroke="#2196f3" stroke-width="2" rx="10"/>
  <text x="70" y="215" font-size="16" font-weight="bold" fill="#1565c0">2. Contexto de Proyecto</text>
  <text x="70" y="235" font-size="12" fill="#333">• Tipo de proyecto (web, mobile, ML, etc.) • Tecnologías utilizadas • Estructura de archivos</text>
  <text x="70" y="250" font-size="12" fill="#333">• Dependencias y versiones • Configuración de build • Documentación existente</text>
  
  <!-- Layer 3: Session Context -->
  <rect x="50" y="280" width="800" height="80" fill="#fff3e0" stroke="#ff9800" stroke-width="2" rx="10"/>
  <text x="70" y="305" font-size="16" font-weight="bold" fill="#ef6c00">3. Contexto de Sesión</text>
  <text x="70" y="325" font-size="12" fill="#333">• Archivos abiertos actualmente • Comandos ejecutados recientemente • Errores recientes</text>
  <text x="70" y="340" font-size="12" fill="#333">• Tiempo de la sesión • Actividad del usuario • Estado de debugging</text>
  
  <!-- Layer 4: User Context -->
  <rect x="50" y="370" width="800" height="80" fill="#fce4ec" stroke="#e91e63" stroke-width="2" rx="10"/>
  <text x="70" y="395" font-size="16" font-weight="bold" fill="#c2185b">4. Contexto de Usuario</text>
  <text x="70" y="415" font-size="12" fill="#333">• Preferencias personales • Nivel de experiencia • Patrones de trabajo habituales</text>
  <text x="70" y="430" font-size="12" fill="#333">• Historial de comandos • Proyectos favoritos • Configuraciones personalizadas</text>
  
  <!-- Context Processor -->
  <rect x="300" y="480" width="300" height="100" fill="#f3e5f5" stroke="#9c27b0" stroke-width="3" rx="15"/>
  <text x="450" y="510" text-anchor="middle" font-size="18" font-weight="bold" fill="#7b1fa2">Procesador de Contexto</text>
  <text x="450" y="530" text-anchor="middle" font-size="12" fill="#333">Analiza todas las capas</text>
  <text x="450" y="545" text-anchor="middle" font-size="12" fill="#333">Identifica patrones relevantes</text>
  <text x="450" y="560" text-anchor="middle" font-size="12" fill="#333">Genera contexto unificado</text>
  
  <!-- Arrows pointing to processor -->
  <path d="M450 450 L450 480" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Output: Dynamic Prompts -->
  <rect x="150" y="610" width="180" height="70" fill="#e8f5e8" stroke="#4caf50" stroke-width="2" rx="10"/>
  <text x="240" y="635" text-anchor="middle" font-size="14" font-weight="bold" fill="#2e7d32">Prompts de Desarrollo</text>
  <text x="240" y="650" text-anchor="middle" font-size="11" fill="#333">Code review, testing,</text>
  <text x="240" y="665" text-anchor="middle" font-size="11" fill="#333">documentación</text>
  
  <rect x="360" y="610" width="180" height="70" fill="#e3f2fd" stroke="#2196f3" stroke-width="2" rx="10"/>
  <text x="450" y="635" text-anchor="middle" font-size="14" font-weight="bold" fill="#1565c0">Prompts de Debugging</text>
  <text x="450" y="650" text-anchor="middle" font-size="11" fill="#333">Análisis de errores,</text>
  <text x="450" y="665" text-anchor="middle" font-size="11" fill="#333">optimización</text>
  
  <rect x="570" y="610" width="180" height="70" fill="#fff3e0" stroke="#ff9800" stroke-width="2" rx="10"/>
  <text x="660" y="635" text-anchor="middle" font-size="14" font-weight="bold" fill="#ef6c00">Prompts de Proyecto</text>
  <text x="660" y="650" text-anchor="middle" font-size="11" fill="#333">Planificación,</text>
  <text x="660" y="665" text-anchor="middle" font-size="11" fill="#333">arquitectura</text>
  
  <!-- Arrows from processor to outputs -->
  <path d="M375 580 L240 610" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <path d="M450 580 L450 610" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <path d="M525 580 L660 610" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666"/>
    </marker>
  </defs>
</svg>